(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{353:function(e,n,t){"use strict";t.r(n);var a=t(42),r=Object(a.a)({},(function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"vue3"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#vue3"}},[e._v("#")]),e._v(" Vue3")]),e._v(" "),t("h2",{attrs:{id:"props中设置type类型使用proptype："}},[t("a",{staticClass:"header-anchor",attrs:{href:"#props中设置type类型使用proptype："}},[e._v("#")]),e._v(" props中设置type类型使用PropType：")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("```\ninterface Config{\n    name: string\n}\nprops: {\n    age: {\n        type: Number as PropType<number>,\n        required: true\n    },\n    config: {\n        type: Object as PropType<Congif>,\n        required: true\n    }\n}\n```\n")])])]),t("h2",{attrs:{id:"提取props定义，const声明中age得required无效-加as-const解决"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#提取props定义，const声明中age得required无效-加as-const解决"}},[e._v("#")]),e._v(" 提取props定义，const声明中age得required无效,加as const解决")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("```\nconst PropsType = {\n    msg: String,\n    age: {\n        type: Number,\n        required:true\n    }\n} as const\nprops: PropsType\n```\n")])])]),t("h2",{attrs:{id:"h函数"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#h函数"}},[e._v("#")]),e._v(" h函数")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[e._v("    参数1：节点，\n    参数2：属性\n    参数3：子类节点\n    .vue文件实际就是在写h函数\n    h函数是对createVNode做了判断\n```\n<template>\n    <div id='app'> \n        <img src='./logo.png' alt='' />\n        <HelloWorld msg='hellow' :age='12'></HelloWord>\n    </div>\n</template>\n上下对应\n    defineComponent({\n        data() {\n            \n        },\n        render() {\n            return h('div', { id: 'app'}, [\n                h('img', {\n                    alt: 'vue logo',\n                    src: './logo.png'\n                }),\n                h(HelloWorld, {\n                    msg: 'hellow',\n                    age: 12\n                })\n            ])\n        }\n    })\n```\n")])])]),t("h2",{attrs:{id:"watcheffect"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#watcheffect"}},[e._v("#")]),e._v(" watchEffect")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("只要在watchEffect中使用的ref或者reactive，都会重新执行watchEffect中的函数\nwatchEffect(() => {\n    console.log(nameRef.value)\n})\n")])])]),t("h2",{attrs:{id:"setup"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#setup"}},[e._v("#")]),e._v(" setup")]),e._v(" "),t("p",[e._v("只执行一次")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("setup() {\n    const state = reactive({\n        name: 'rmm'\n    })\n    const nameRef = ref(1);\n    setInterval(() => {\n        nameRef.value += 1;\n    }, 1000)\n    return () => {\n        const number = nameRef.value; // 必须卸载return函数里面才有效\n        return h('div', { id: 'app'}, [\n            h('img', { \n                alt: 'hellow',\n                src: imgUrl\n            }),\n            h(HellowWord, {\n                'msg': 'renming'\n            }),\n            h('p', state.name + number)\n        ])\n    }\n")])])]),t("h2",{attrs:{id:"jsx处使用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#jsx处使用"}},[e._v("#")]),e._v(" jsx处使用")]),e._v(" "),t("p",[e._v("相对于模板：灵活、类型检测、可使用函数")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("function renderHellow(msg: string) {\n    return <HellowWord msg={msg}/>;\n}\nexport default defineComponent({\n    setup() {\n        const state = reactive({\n            name: 'rmm'\n        })\n        const nameRef = ref(1);\n        setInterval(() => {\n            state.name += '1';\n            nameRef.value += 1;\n        }, 1000)\n        return () => {\n            const number = nameRef.value;\n            return (\n                <div id=\"app\">\n                    <img src={imgUrl} alt=\"vue logo\"/>\n                    <p>{ state.name + number}</p>\n                    <input type=\"text\" v-model={state.name}/>\n                    {renderHellow('rmmmm')}\n                </div>\n            );\n            // return h('div', { id: 'app'}, [\n            //     h('img', { \n            //         alt: 'hellow',\n            //         src: imgUrl\n            //     }),\n            //     h(HellowWord, {\n            //         'msg': 'renming'\n            //     }),\n            //     h('p', state.name + number)\n            // ])\n        }\n    }\n})\n\n")])])])])}),[],!1,null,null,null);n.default=r.exports}}]);