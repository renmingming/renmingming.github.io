(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{352:function(a,s,t){"use strict";t.r(s);var e=t(42),l=Object(e.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"常用命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用命令"}},[a._v("#")]),a._v(" 常用命令")]),a._v(" "),t("p",[a._v("1、文件拷贝")]),a._v(" "),t("p",[a._v("scp 本地文件路径 服务器用户名@地址:/复制到的路径\n复制文件夹 scp -r")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("scp -r /Users/apple/self/react/react-admin/dist root@1.1.1.1:/home/user/www\n")])])]),t("p",[a._v("--- 删除文件、文件夹")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("rm -rf name     // name 文件、文件夹名称  -rf删除文件夹\n")])])]),t("p",[a._v("2、登录远程服务器")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ssh -p 端口号 root@ip\n")])])]),t("p",[a._v("3、git\n新建本地git仓库")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("git init\n")])])]),t("p",[a._v("将项目的所有文件添加到本地仓库中")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("git add .\n")])])]),t("p",[a._v("提交之前对本地仓库的修改注视")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v('git commit -m "注释语句"\n')])])]),t("p",[a._v("关联远程仓库")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("git remote add origin https://github.com/abc/abc.git\n")])])]),t("p",[a._v("上传前pull一下")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("git pull origin master\n")])])]),t("p",[a._v("上传远程仓库")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("git push -u origin master\n")])])]),t("p",[a._v("4、进程")]),a._v(" "),t("p",[a._v("查询进程")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("  ps aux|grep php-fpm 名字\n")])])]),t("p",[a._v("停止重启进程")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("kill -HUP PID\n")])])]),t("p",[a._v("优雅结束进程")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("kill -l PID\n")])])]),t("p",[a._v("结束")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("kill -9 2071\n")])])]),t("p",[a._v("5、pm2")]),a._v(" "),t("p",[a._v("启动程序")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("pm2 start app.js --name test\n")])])]),t("p",[a._v("终止进程")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("pm2 stop\n")])])]),t("p",[a._v("列举启动的程序")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("pm2 list\n")])])]),t("p",[a._v("pm2命令大全\n```\npm2 logs 显示所有进程日志\n$ pm2 stop all 停止所有进程\n$ pm2 restart all 重启所有进程\n$ pm2 reload all 0秒停机重载进程 (用于 NETWORKED 进程)\n$ pm2 stop 0 停止指定的进程\n$ pm2 restart 0 重启指定的进程\n$ pm2 startup 产生 init 脚本 保持进程活着\n$ pm2 web 运行健壮的 computer API endpoint (http://localhost:9615)\n$ pm2 delete 0 杀死指定的进程\n$ pm2 delete all 杀死全部进程")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",[t("code",[a._v("运行进程的不同方式：\n$ pm2 start app.js -i max 根据有效CPU数目启动最大进程数目\n$ pm2 start app.js -i 3 启动3个进程\n$ pm2 start app.js -x 用fork模式启动 app.js 而不是使用 cluster\n$ pm2 start app.js -x -- -a 23 用fork模式启动 app.js 并且传递参数 (-a 23)\n$ pm2 start app.js --name serverone 启动一个进程并把它命名为 serverone\n$ pm2 stop serverone 停止 serverone 进程\n$ pm2 start app.json 启动进程, 在 app.json里设置选项\n$ pm2 start app.js -i max -- -a 23 在--之后给 app.js 传递参数\n$ pm2 start app.js -i max -e err.log -o out.log 启动 并 生成一个配置文件\n```\n")])])]),t("p",[a._v("6、查找软件安装的路径位置")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("which 'name'\n")])])]),t("p",[a._v("7、解压")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("tar –xvf file.tar //解压 tar包\ntar -xzvf file.tar.gz //解压tar.gz\n")])])]),t("p",[a._v("8、环境变量")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("vim ~/.bash_profile\nsource ~/.bash_profile\n")])])]),t("p",[a._v("9、查看当前文件下的文件权限")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ls -l\n")])])]),t("p",[a._v("10、修改当前所有文件的权限为apple")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("sudo chown -R apple ./\n")])])]),t("p",[a._v("11、当前管理用户")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("whoami\n")])])]),t("p",[a._v("12、MAC查看端口占用情况")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("lsof -i tcp:port\n")])])]),t("p",[a._v("13、文件变化实时显示新的内容")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("tail -f development.log \n// 显示指定内容\ntail -f development.log | grep 'online_status'\n")])])]),t("p",[a._v("14、输出到指定文件")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("php cli.php async start >> log/async.log \n// 后台进程\n./ssdb-server -d ssdb.conf\n")])])]),t("p",[a._v("15、liunx命令crontab定时任务")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("crontab -e\n")])])]),t("p",[a._v("16、翻墙https://cp.v2tun.com/aff.php?aff=172")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("手机需要shadowrocket \n电脑软件clashx\n软路由：https://conversun.com/2019/08/19/OpenClash-SmartDns/\n")])])])])}),[],!1,null,null,null);s.default=l.exports}}]);