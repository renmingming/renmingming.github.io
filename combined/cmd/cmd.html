<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>常用命令 | VuePress</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="Just playing around">
    <link rel="preload" href="/assets/css/0.styles.3f949b7f.css" as="style"><link rel="preload" href="/assets/js/app.266af1c3.js" as="script"><link rel="preload" href="/assets/js/2.0861db78.js" as="script"><link rel="preload" href="/assets/js/7.507a8e2d.js" as="script"><link rel="prefetch" href="/assets/js/10.7858b385.js"><link rel="prefetch" href="/assets/js/11.78a8ae46.js"><link rel="prefetch" href="/assets/js/12.b2277f4c.js"><link rel="prefetch" href="/assets/js/13.ce8da26a.js"><link rel="prefetch" href="/assets/js/14.5bc1d6e3.js"><link rel="prefetch" href="/assets/js/15.0ca5b6ca.js"><link rel="prefetch" href="/assets/js/16.3ff01d64.js"><link rel="prefetch" href="/assets/js/3.8099ba9f.js"><link rel="prefetch" href="/assets/js/4.ce18d72f.js"><link rel="prefetch" href="/assets/js/5.adfb67bc.js"><link rel="prefetch" href="/assets/js/6.4a1f583a.js"><link rel="prefetch" href="/assets/js/8.40e91942.js"><link rel="prefetch" href="/assets/js/9.6772c857.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3f949b7f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/common/basics/basics.html" class="nav-link">
  常见知识点
</a></div><div class="nav-item"><a href="/combined/typescript/typescript.html" class="nav-link">
  综合
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/common/basics/basics.html" class="nav-link">
  常见知识点
</a></div><div class="nav-item"><a href="/combined/typescript/typescript.html" class="nav-link">
  综合
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>综合</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/combined/cmd/cmd.html" aria-current="page" class="active sidebar-link">常用命令</a></li><li><a href="/combined/typescript/typescript.html" class="sidebar-link">Typescript</a></li><li><a href="/combined/postgresql/postgresql.html" class="sidebar-link">PostgreSQL</a></li><li><a href="/combined/redis/redis.html" class="sidebar-link">Redis</a></li><li><a href="/combined/vue/vue.html" class="sidebar-link">Vue</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="常用命令"><a href="#常用命令" class="header-anchor">#</a> 常用命令</h1> <p>1、文件拷贝</p> <p>scp 本地文件路径 服务器用户名@地址:/复制到的路径
复制文件夹 scp -r</p> <div class="language- extra-class"><pre class="language-text"><code>scp -r /Users/apple/self/react/react-admin/dist root@1.1.1.1:/home/user/www
</code></pre></div><p>--- 删除文件、文件夹</p> <div class="language- extra-class"><pre class="language-text"><code>rm -rf name     // name 文件、文件夹名称  -rf删除文件夹
</code></pre></div><p>2、登录远程服务器</p> <div class="language- extra-class"><pre class="language-text"><code>ssh -p 端口号 root@ip
</code></pre></div><p>3、git
新建本地git仓库</p> <div class="language- extra-class"><pre class="language-text"><code>git init
</code></pre></div><p>将项目的所有文件添加到本地仓库中</p> <div class="language- extra-class"><pre class="language-text"><code>git add .
</code></pre></div><p>提交之前对本地仓库的修改注视</p> <div class="language- extra-class"><pre class="language-text"><code>git commit -m &quot;注释语句&quot;
</code></pre></div><p>关联远程仓库</p> <div class="language- extra-class"><pre class="language-text"><code>git remote add origin https://github.com/abc/abc.git
</code></pre></div><p>上传前pull一下</p> <div class="language- extra-class"><pre class="language-text"><code>git pull origin master
</code></pre></div><p>上传远程仓库</p> <div class="language- extra-class"><pre class="language-text"><code>git push -u origin master
</code></pre></div><p>4、进程</p> <p>查询进程</p> <div class="language- extra-class"><pre class="language-text"><code>  ps aux|grep php-fpm 名字
</code></pre></div><p>停止重启进程</p> <div class="language- extra-class"><pre class="language-text"><code>kill -HUP PID
</code></pre></div><p>优雅结束进程</p> <div class="language- extra-class"><pre class="language-text"><code>kill -l PID
</code></pre></div><p>结束</p> <div class="language- extra-class"><pre class="language-text"><code>kill -9 2071
</code></pre></div><p>5、pm2</p> <p>启动程序</p> <div class="language- extra-class"><pre class="language-text"><code>pm2 start app.js --name test
</code></pre></div><p>终止进程</p> <div class="language- extra-class"><pre class="language-text"><code>pm2 stop
</code></pre></div><p>列举启动的程序</p> <div class="language- extra-class"><pre class="language-text"><code>pm2 list
</code></pre></div><p>pm2命令大全
```
pm2 logs 显示所有进程日志
$ pm2 stop all 停止所有进程
$ pm2 restart all 重启所有进程
$ pm2 reload all 0秒停机重载进程 (用于 NETWORKED 进程)
$ pm2 stop 0 停止指定的进程
$ pm2 restart 0 重启指定的进程
$ pm2 startup 产生 init 脚本 保持进程活着
$ pm2 web 运行健壮的 computer API endpoint (http://localhost:9615)
$ pm2 delete 0 杀死指定的进程
$ pm2 delete all 杀死全部进程</p> <div class="language- extra-class"><pre><code>运行进程的不同方式：
$ pm2 start app.js -i max 根据有效CPU数目启动最大进程数目
$ pm2 start app.js -i 3 启动3个进程
$ pm2 start app.js -x 用fork模式启动 app.js 而不是使用 cluster
$ pm2 start app.js -x -- -a 23 用fork模式启动 app.js 并且传递参数 (-a 23)
$ pm2 start app.js --name serverone 启动一个进程并把它命名为 serverone
$ pm2 stop serverone 停止 serverone 进程
$ pm2 start app.json 启动进程, 在 app.json里设置选项
$ pm2 start app.js -i max -- -a 23 在--之后给 app.js 传递参数
$ pm2 start app.js -i max -e err.log -o out.log 启动 并 生成一个配置文件
```
</code></pre></div><p>6、查找软件安装的路径位置</p> <div class="language- extra-class"><pre class="language-text"><code>which 'name'
</code></pre></div><p>7、解压</p> <div class="language- extra-class"><pre class="language-text"><code>tar –xvf file.tar //解压 tar包
tar -xzvf file.tar.gz //解压tar.gz
</code></pre></div><p>8、环境变量</p> <div class="language- extra-class"><pre class="language-text"><code>vim ~/.bash_profile
source ~/.bash_profile
</code></pre></div><p>9、查看当前文件下的文件权限</p> <div class="language- extra-class"><pre class="language-text"><code>ls -l
</code></pre></div><p>10、修改当前所有文件的权限为apple</p> <div class="language- extra-class"><pre class="language-text"><code>sudo chown -R apple ./
</code></pre></div><p>11、当前管理用户</p> <div class="language- extra-class"><pre class="language-text"><code>whoami
</code></pre></div><p>12、MAC查看端口占用情况</p> <div class="language- extra-class"><pre class="language-text"><code>lsof -i tcp:port
</code></pre></div><p>13、文件变化实时显示新的内容</p> <div class="language- extra-class"><pre class="language-text"><code>tail -f development.log 
// 显示指定内容
tail -f development.log | grep 'online_status'
</code></pre></div><p>14、输出到指定文件</p> <div class="language- extra-class"><pre class="language-text"><code>php cli.php async start &gt;&gt; log/async.log 
// 后台进程
./ssdb-server -d ssdb.conf
</code></pre></div><p>15、liunx命令crontab定时任务</p> <div class="language- extra-class"><pre class="language-text"><code>crontab -e
</code></pre></div><p>16、翻墙https://cp.v2tun.com/aff.php?aff=172</p> <div class="language- extra-class"><pre class="language-text"><code>手机需要shadowrocket 
电脑软件clashx
软路由：https://conversun.com/2019/08/19/OpenClash-SmartDns/
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/combined/typescript/typescript.html">
        Typescript
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.266af1c3.js" defer></script><script src="/assets/js/2.0861db78.js" defer></script><script src="/assets/js/7.507a8e2d.js" defer></script>
  </body>
</html>
