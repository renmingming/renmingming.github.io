<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>typescript | VuePress</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="Just playing around">
    <link rel="preload" href="/assets/css/0.styles.3f949b7f.css" as="style"><link rel="preload" href="/assets/js/app.266af1c3.js" as="script"><link rel="preload" href="/assets/js/2.0861db78.js" as="script"><link rel="preload" href="/assets/js/10.7858b385.js" as="script"><link rel="prefetch" href="/assets/js/11.78a8ae46.js"><link rel="prefetch" href="/assets/js/12.b2277f4c.js"><link rel="prefetch" href="/assets/js/13.ce8da26a.js"><link rel="prefetch" href="/assets/js/14.5bc1d6e3.js"><link rel="prefetch" href="/assets/js/15.0ca5b6ca.js"><link rel="prefetch" href="/assets/js/16.3ff01d64.js"><link rel="prefetch" href="/assets/js/3.8099ba9f.js"><link rel="prefetch" href="/assets/js/4.ce18d72f.js"><link rel="prefetch" href="/assets/js/5.adfb67bc.js"><link rel="prefetch" href="/assets/js/6.4a1f583a.js"><link rel="prefetch" href="/assets/js/7.507a8e2d.js"><link rel="prefetch" href="/assets/js/8.40e91942.js"><link rel="prefetch" href="/assets/js/9.6772c857.js">
    <link rel="stylesheet" href="/assets/css/0.styles.3f949b7f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">VuePress</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/common/basics/basics.html" class="nav-link">
  常见知识点
</a></div><div class="nav-item"><a href="/combined/typescript/typescript.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  综合
</a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  Home
</a></div><div class="nav-item"><a href="/common/basics/basics.html" class="nav-link">
  常见知识点
</a></div><div class="nav-item"><a href="/combined/typescript/typescript.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  综合
</a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>综合</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/combined/cmd/cmd.html" class="sidebar-link">常用命令</a></li><li><a href="/combined/typescript/typescript.html" aria-current="page" class="active sidebar-link">Typescript</a></li><li><a href="/combined/postgresql/postgresql.html" class="sidebar-link">PostgreSQL</a></li><li><a href="/combined/redis/redis.html" class="sidebar-link">Redis</a></li><li><a href="/combined/vue/vue.html" class="sidebar-link">Vue</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="typescript"><a href="#typescript" class="header-anchor">#</a> typescript</h1> <p>1、引入第三方插件：如jquery</p> <div class="language- extra-class"><pre class="language-text"><code>cnpm install @type/jquery jquery--save

import * as $ from 'jquery
</code></pre></div><p>2、数组对象定义：{}[]</p> <p>3、数组</p> <div class="language- extra-class"><pre><code>let data: number[]; // 数组只能存数字

数组存多个类型使用元组tuple：let data:[number, string,boolean];// 顺序要对应

超出越界部分，采用联合类型：data[3] = false, // 3可以存number，string,boolean
</code></pre></div><p>4、联合类型：可以存不同类型</p> <div class="language- extra-class"><pre><code>let a: string|number;
a = 'm'; a = 1;
</code></pre></div><p>5、枚举:为数据赋予友好的名字</p> <div class="language- extra-class"><pre><code>enum color {red, green} // 元素编号默认从0
color.red // 0
</code></pre></div><p>6、函数</p> <div class="language- extra-class"><pre><code>使用noImplicitThis选项取消默认this的any设置

fn(this:Document) {}
在ts中函数的第一个this参数是用来设置this的类型约束的，是一个假参数，运行中不存在，是给ts检测使用的
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>    没有返回值：void
    function fn(x:number, y:string):string{
        return x+y
    }
    let fn: (x:number, y:string) =&gt; string = function fn(x:number, y:string):string{
        return x+y
    }
</code></pre></div><p>6-1、函数重载</p> <div class="language- extra-class"><pre class="language-text"><code>function fn(x:number, y:number):number;
function fn(x:string, y:string):string;

fn(x:any,y:any):any {
    return x+y
}
fn(1,2);
fn('a','b')
</code></pre></div><p>7、类</p> <div class="language- extra-class"><pre class="language-text"><code>public公开的，所有地方可访问
protected受保护的，在内部或子类中可以访问
proivate私有的，只能内部访问
get a() {return this.age} // a为类的属性

抽象类：abstract

abstract class Person { // 抽象类不能实例化
    username: string;
    constructor(username:string) {
        this.username = username;
    }
    say() {
        console.log('234)
    }

    abstract study(): void // 抽象方法
}
clss Studen extends Person { // 继承抽象类必须实现所有的抽象方法，否则此类也必须是抽象类
    study() {
        console.log(‘学生方法’)
    }
}

</code></pre></div><p>8、接口：定义的一种契约，ts用这个检测数据</p> <div class="language- extra-class"><pre class="language-text"><code>// 只有抽象描述，不能有具体值
    interface Options{
        width: number,
        height: number,
        color?: string,  // 可选的
        size: number
    }

// 只要包含其中一些规则即可
    -- 可选  ？
    -- 断言 as
    function fn(opts: Options) {}
    fn({
        heidht:100,
        width:50
    } as Options) // as 断言告诉其符号Options规则

**参数过于规则项，可先赋值给一个变量，绕开检测**
    let obj = {
        width: 50,
        height:10,
        size: 2,
        a:1
    }
    fn(obj) // 可以

 **一组数字作为key值命名的， dom Node节点------索引签名**
    // interface Options{
        0:string,
        1:string
    }
    // 索引签名key可以是number，也可以是string
    interface Options{
        // key是number，value是any类型
        [attr: number]: any,
        length: number
    }

**函数类型接口**

    定义一个事件函数，那么必须定义一定的规则，不能随便吧一个函数赋值给事件
    // 函数接口
    interface IFn {
        (x:number,y:number):number
    }
    let fn: IFn = function(x:number,y:number):number{return x + y}

    // 定义一个接受MouseEvent类型参数的函数结构
    interface MouseEveatCallBack{
        (e: MouseEvent): any
    }
</code></pre></div><p>9、强制转换类型--类型断言</p> <div class="language- extra-class"><pre><code>比如 let someValue: any = 'renmingming';
1-使用&lt;string&gt;使用尖括号
    let strlength: number = (&lt;string&gt;someValue).length;
2-使用as
    let strlength: number = (someValue as string).length
</code></pre></div><p>10、对象结构制定类型</p> <div class="language- extra-class"><pre><code>let o = {a: 1, b: 2};
不能这样：let {a: aa, b: bb} = o;这样是属性重命名
应该这样 let {a,b}: {a: number, b: number} = o;
</code></pre></div><p>11、只读属性</p> <div class="language- extra-class"><pre><code>interface Point {
    readonly x: number
    readonly y: number
}

泛型只读数组： ReadOnlyArray
let a: number[] = [1,2,3,4]
let ro: ReadOnlyArray&lt;number&gt; = a // 不能对ro修改push等

变量使用const，属性使用Readonly
</code></pre></div><p>12、额外属性检查-----索引签名</p> <div class="language- extra-class"><pre><code>interface Point {
    color?: string
    // 除了color，可是有其他任意属性名
    [propName: string]: any  // 索引属性名为字符串，值为any任意类型
}
interface Person {
    [index: number]: string
}
let arr: Person = ['ren','ming','ming']
</code></pre></div><p>13、定义类的接口：</p> <div class="language- extra-class"><pre><code>1、类的实例接口


2、类的构造器接口  //静态部分

```
    interface ClockInterface {
    tick()
    }

    interface ClockConstructor {
    new(hour: number, minute: number): ClockInterface
    }

    function createClock(ctor: ClockConstructor, hour: number, minute: number): ClockInterface {
    return new ctor(hour, minute)
    }

    class DigitalClock implements ClockInterface {
    constructor(h: number, m: number) {

    }
    tick() {
        console.log('beep bepp digitalclock')
    }
    }

    class AnglogClock implements ClockInterface{
    constructor(h: number, m: number) {

    }
    tick() {
        console.log('anglogclock tick')
    }
    }

    let digital = createClock(DigitalClock, 12, 17)
    let anglog = createClock(AnglogClock, 20, 28)
```
</code></pre></div><p>14、混合类型</p> <div class="language- extra-class"><pre><code>```
    interface Counter{
    (start: number): string
    interval: number
    reset(): void
    }
    function getCounter(): Counter{
    let counter = (function(start: number) {

    }) as Counter
    counter.interval = 123
    counter.reset = function() {}

    return counter
    }
```
</code></pre></div><p>15、接口继承类
```
class Control{
private state: any
}</p> <div class="language- extra-class"><pre><code>interface SelectionControl extends Control{
select()
}

class Button extends Control implements SelectionControl{
select() {}
}
class TextBox extends Control{
select() {}
}
class ImageC implements SelectionControl{
    // 错误
select() {

}
}
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>
16、类静态属性修改

</code></pre></div><div class="language- extra-class"><pre><code>// 修改静态属性值
class Greeter{
static greeting = 'hello'
}
let greeterMaker: typeof Greeter = Greeter
greeterMaker.greeting = 'hello word'
let greeter2: Greeter = new greeterMaker();
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>
17、泛型函数-----保持参数类型和返回类型一致

    // 泛型类型变量

</code></pre></div><p>function identity<T>(age: T): T{
// T帮助我们捕获用户传入类型
return arg
}
// let output = identity<string>('myString')
let output2 = identity('myString')</string></T></p> <div class="language- extra-class"><pre class="language-text"><code>
18、泛型接口

</code></pre></div><p>function identity<T>(arg: T): T{
return arg
}
interface GenericIdentityFn<T> {
(arg: T): T
}</T></T></p> <p>//interface GenericIdentityFn {
//    <T>(arg: T): T
//}</T></p> <p>let myIdentity:GenericIdentityFn<number> = identity</number></p> <p>19、 泛型类</p> <div class="language- extra-class"><pre class="language-text"><code>class GenericNumber&lt;T&gt; {
  zeroValue: T
  add: (x: T, y: T) =&gt; T
}

let myGenericNumber = new GenericNumber&lt;number&gt;()
myGenericNumber.zeroValue = 1
myGenericNumber.add = function(x, y) {
  return x + y
}
</code></pre></div><p>20、 泛型约束</p> <div class="language- extra-class"><pre class="language-text"><code>function getProperty&lt;T, K extends keyof T&gt;(obj: T, key: K) {
  return obj[key]
}
let x = {a: 1, b: 2, c: 3, d: 4}
getProperty(x, 'a')
getProperty(x, 'm') // m参数报错，m是不是x的key

function createInstance&lt;T&gt;(c: new() =&gt; T): T {
  return new c()
}
</code></pre></div><p>21、 联合类型</p> <div class="language- extra-class"><pre class="language-text"><code>interface Bird{
  fly()
  layEggs()
}
interface Fish{
  swim()
  layEggs()
}

function getSmallPet(): Fish | Bird {

}
let pet = getSmallPet()
pet.layEggs()
pet.swim() //报错，不是Fish和Bird共有的
</code></pre></div><p>22、类型保护机制</p> <div class="language- extra-class"><pre><code>--- 用户自定义

--- typeof

--- instanceof
</code></pre></div><div class="language- extra-class"><pre class="language-text"><code>if(isFish(pet)) {
    pet.swim()
} else {
    pet.fily()
}
function isFish(pet: Fish | Bird): pet is Fish {
    return (pet as Fish).swim !== undefined
}
</code></pre></div><p>23、null的类型保护</p> <div class="language- extra-class"><pre class="language-text"><code>function broken(name: string | null): string {
    function postfix(epither: string) {
        // !断言不为null
        return name!.charAt(0) + '. the ' + epither
    }

    name = name || 'Bob'
    return postfix(name)
}
broken(null)
</code></pre></div><p>24、vue中声明全局Window</p> <div class="language- extra-class"><pre class="language-text"><code>在.d.ts中添加
  interface Window {
    test: string
  }
</code></pre></div><p>25、特殊符号用法</p> <div class="language- extra-class"><pre class="language-text"><code>1.属性或参数中使用？：表示属性或参数为可选项
2.属性或参数总使用!: 表示强制解析，告诉typescript编译器，这里一定有值
    const { resolved, rejected } = arr.shift()!
    rejected在arr中是可选项，如果不加!就会报错
3.变量后使用! ： 表示类型推断排除null、undefined
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/combined/cmd/cmd.html" class="prev">
        常用命令
      </a></span> <span class="next"><a href="/combined/postgresql/postgresql.html">
        PostgreSQL
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.266af1c3.js" defer></script><script src="/assets/js/2.0861db78.js" defer></script><script src="/assets/js/10.7858b385.js" defer></script>
  </body>
</html>
